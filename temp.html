<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Tic Tac Toe</title>
        <style>
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }
            body {
                background-color: #121212;
                color: white;
                font-family: "Roboto", sans-serif;
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                height: 100vh;
            }
            .container {
                display: grid;
                position: relative;
                animation: fadeIn 1s ease-in-out;
                width: 50%;
                height: 50%;
                max-width: 50%;
                max-height: 50%;
            }
            .box {
                background-color: #1f1f1f;
                border: 2px solid #333;
                display: flex;
                justify-content: center;
                align-items: center;
                transition: background-color 0.3s, transform 0.3s;
                cursor: pointer;
                position: relative;
            }
            .box:hover {
                background-color: #333;
            }
            .boxtext {
                position: absolute;
                color: white;
                font-size: 3em;
                opacity: 0;
                transition: opacity 0.3s;
            }
            @keyframes fadeIn {
                from {
                    opacity: 0;
                }
                to {
                    opacity: 1;
                }
            }
        </style>
    </head>
    <body>
        <div>
            <label for="size">Board Size:</label>
            <select id="size">
                <option value="3">3x3</option>
                <option value="5">5x5</option>
                <option value="7">7x7</option>
            </select>
            <button onclick="startGame()">Start Game</button>
        </div>
        <div class="container" id="gridContainer"></div>
        <script>
            const sizeInput = document.getElementById("size");

            function startGame() {
                createBoard(parseInt(sizeInput.value));
            }

            function createBoard(size) {
                const container = document.getElementById("gridContainer");
                container.innerHTML = "";

                const gapSize = 15 / size;
                const containerSize = 50; // 50% of the viewport width
                const totalGap = (size - 1) * gapSize;
                const boxSize =
                    (containerSize - (totalGap / window.innerWidth) * 100) /
                    size; // Calculate box size in vw

                container.style.gap = `${gapSize}px`;
                container.style.gridTemplateColumns = `repeat(${size}, ${boxSize}vw)`;
                container.style.gridTemplateRows = `repeat(${size}, ${boxSize}vw)`;

                for (let i = 0; i < size * size; i++) {
                    const box = document.createElement("div");
                    box.classList.add("box");
                    box.dataset.index = i;

                    const boxtext = document.createElement("div");
                    boxtext.classList.add("boxtext");

                    box.appendChild(boxtext);
                    box.addEventListener("click", () => handleMove(box));
                    container.appendChild(box);
                }
            }

            function handleMove(box) {
                console.log(`Box ${box.dataset.index} clicked`);
            }

            // Initial board creation
            createBoard(parseInt(sizeInput.value));
        </script>
    </body>
</html>
